<!DOCTYPE html>
<html>
<head>
    <title>Register - Sathi-Her</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

<div class="hero">
    <div class="login-card">

        <h2>Complete Profile</h2>

        <label>First Name</label>
        <input id="firstName">

        <label>Middle Name</label>
        <input id="middleName">

        <label>Last Name</label>
        <input id="lastName">

        <label>Age</label>
        <input id="age">

        <label>Gender</label>
        <input id="gender">

        <label>Pincode</label>
        <input id="pincode">

        <label>Permanent Address</label>
        <input id="address">

        <button onclick="saveProfile()">Save Profile</button>

    </div>
</div>

<script>
async function saveProfile() {
    const phone = localStorage.getItem("userPhone");

    const res = await fetch("/api/auth/update-profile", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            phone,
            firstName: document.getElementById("firstName").value,
            middleName: document.getElementById("middleName").value,
            lastName: document.getElementById("lastName").value,
            age: document.getElementById("age").value,
            gender: document.getElementById("gender").value,
            pincode: document.getElementById("pincode").value,
            address: document.getElementById("address").value
        })
    });

    alert("Profile saved!");
    window.location.href = "planning.html";
}
</script>

</body>
</html>